
text/x-generic .htaccess ( UTF-8 Unicode text )
RewriteOptions inherit
# PH pagespeed start
<IfModule pagespeed_module>
ModPagespeed on
ModPagespeedRewriteLevel PassThrough
ModPagespeedEnableFilters add_head,fallback_rewrite_css_urls,flatten_css_imports,rewrite_style_attributes_with_url,extend_cache,convert_meta_tags,combine_javascript,rewrite_javascript,inline_javascript,rewrite_css,combine_css,inline_css,inline_import_to_link,rewrite_images
</IfModule>
# PH pagespeed end


RewriteEngine on
RewriteBase /

RewriteCond %{HTTPS} !=on
RewriteCond %{HTTP:X-Forwarded-Proto} !https
RewriteCond %{HTTP_HOST} ^(?:www\.)?ftoupet.ynh.fr/site\.ext(?:.*)$ [nc]
RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [redirect=301,L]

# Rewrite Regle 1: Rediriger toutes les requêtes pour les urls incluant le nom des répertoires et le nom des fichiers se trouvant dans public_html (www).
RewriteCond %{THE_REQUEST} ^[A-Z]{3,9}\ /site/public/.*\ HTTP/
RewriteRule ^blog/(.*)$ http://www.ftoupet.ynh.fr/site/$1 [R=301,L]

# Rewrite Regle 2: Rediriger tous les www aux non-www et préserver le dossier et le chemin.
RewriteCond %{HTTP_HOST} ^www.^ftoupet.ynh.fr/site\.com [NC]
RewriteRule ^(.*)$ http://www.ftoupet.ynh.fr/site/$1 [R=301,L]

# Rewrite Regle 3: Reecrire les urls qui ne sont pas des dossiers.
RewriteCond %{REQUEST_URI} !^/site/public/
RewriteRule ^(.*)$ /site/public/$1 [L]

# RewriteEngine On
# RewriteCond %{HTTP_HOST} ^chrisbdev\.com [NC]
# RewriteCond %{HTTPS} off
# RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI}
# RewriteBase /

# # # Rewrite Regle 1: Rediriger toutes les requêtes pour les urls incluant le nom des répertoires et le nom des fichiers se trouvant dans public_html (www).
# # RewriteCond %{THE_REQUEST} ^[A-Z]{3,9}\ /chrisbdev/public/.*\ HTTP/
# # RewriteRule ^blog/(.*)$ http://www.chrisbdev.com/$1 [R=301,L]

# # # # Rewrite Regle 2: Rediriger tous les www aux non-www et préserver le dossier et le chemin.
# # RewriteCond %{HTTP_HOST} ^www.^chrisbdev\.com [NC]
# # RewriteRule ^(.*)$ http://www.chrisbdev.com/$1 [R=301,L]

# # # Rewrite Regle 3: Reecrire les urls qui ne sont pas des dossiers.
# RewriteCond %{REQUEST_URI} !^/chrisbdev/public/
# RewriteRule ^(.*)$ /chrisbdev/public/$1 [L]
# RewriteCond %{HTTP_HOST} ^.*$
# # RewriteRule ^chrisbdev\/public\/beats\/file\/\ \/?(.*)$ "https\:\/\/chrisbdev\.com\/$1" [R=301,L]

# RewriteCond %{HTTP_REFERER} !^http://chrisbdev.com/.*$      [NC]
# RewriteCond %{HTTP_REFERER} !^http://chrisbdev.com$      [NC]
# RewriteCond %{HTTP_REFERER} !^http://www.chrisbdev.com/.*$      [NC]
# RewriteCond %{HTTP_REFERER} !^http://www.chrisbdev.com$      [NC]
# RewriteCond %{HTTP_REFERER} !^https://chrisbdev.com/.*$      [NC]
# RewriteCond %{HTTP_REFERER} !^https://chrisbdev.com$      [NC]
# RewriteCond %{HTTP_REFERER} !^https://www.chrisbdev.com/.*$      [NC]
# RewriteCond %{HTTP_REFERER} !^https://www.chrisbdev.com$      [NC]
# RewriteRule .*\.(jpg|jpeg|gif|png|bmp|mp3|wave|ogg)$ https://chrisbdev.com [R,NC]
